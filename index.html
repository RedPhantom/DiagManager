<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Diagnosis Manager</title>
    <!-- Bootstrap -->
    <link href="resources/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="resources/css/custom.css" rel="stylesheet" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="resources/js/tether.min.js"></script>
    <!-- Google Analytics -->
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-31413535-2', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body>
    <script src="resources/js/Intro.js"></script>
    <script src="resources/js/notify.min.js"></script>
    <script>
        $(document).ready(
            function() {
                window.headhtml = '<thead> <tr> <tr> <th style="width: 10%;">ICD-9 ID</th> <th style="width: 70%;">Long Description</th> <th style="width: 20%;">Short Description</th> </tr></thead>';
                $("#table").html(window.headhtml + '<tbody><tr><td></td><td><div class="text-muted">Search above to get started.</div>'); // set help text for table.
            }
        )
    </script>
    <h1 class="superheader" style="margin-bottom: 30px; margin-top: 20px;">ICD-9 ENTRY LOOKUP <small>Developed by Itay Asayag</small></h1>
    <!-- Search bar -->
    <form class="form-inline">
        <input tabindex="0" autofocus id="query" name="query" type="text" placeholder="Search here..." class="form-control mb-2 mr-sm-2 mb-sm-0" onkeyup="search('table',window.$data,this.value,document.getElementById('limit').value,window.headhtml);">
        <span class="separator"></span>
        <label class="control-label" for="class">Select Class</label>
        <select id="class" name="class" class="form-control mb-2 mr-sm-2 mb-sm-0">
				<option value="1">Option one</option>
				<option value="2">Option two</option>
			</select>
        <label class="control-label" for="limit">Number of Results</label>
        <input id="limit" name="limit" class="form-control mb-2 mr-sm-2 mb-sm-0" type="number" min="1" max="1000" value="100" placeholder="Number of Results">
        <label class="control-label" for="source">Select Source</label>
        <select onchange="updateSource(); $('#source').popover('show')" id="source" name="source" class="form-control mb-2 mr-sm-2 mb-sm-0" data-container="body" data-placement="bottom" data-content="Data source has been updated. Type in the search bar to get started.">
				<option value="0">ICD-9 (default)</option>
				<option value="1">Ward Diagnosis</option>
				<option value="2">Option two</option>
			</select>
        <label class="control-label text-muted" id="sourceStatus" style="margin-right: 5px;"></label>

        <button type="button" class="btn btn-primary" onclick="$('#about').modal('show')">About</button>
    </form>
    <!-- Toolbar -->
    <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <span class="navbar-brand">
					<span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>
                </span>
            </div>
            <div class="collapse navbar-collapse navbar-menubuilder">
                <ul class="nav navbar-nav navbar-left">
                    <!-- standard toolbox -->
                    <li>
                        <a href="#" onclick="UponCopy" data-toggle="tooltip" title="Copy the selected ICD-9 ID to clipboard.">
                            <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span> Copy
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- result table -->
    <table class="table table-hover" id="table">

    </table>

    <!-- info section -->
    <div class="alert alert-info" role="alert" id="gettingstarted">
        <h4 class="alert-heading">Welcome!</h4>
        <p>Hey! Welcome to Diagnosis Manager, which allows you to lookup any diagnosis from any standard collection such as ICD-9. The software is functional but is still in development.
        </p>
        <p class="mb-0">Feel you need some help? Don't worry, <a href="./docs" class="alert-link">We've got you covered</a>.<br>
            <a href="#" onclick="$('#gettingstarted').hide();" class="alert-link">Dismiss</a>
        </p>
    </div>

    <hr />
    <script src="resources/js/DiagMan.js"></script>
    <nav class="navbar fixed-bottom navbar-light bg-faded">
        <span class="navbar-text">
			<small>Copyright &copy; 2017 - </small>
			<a href="#" data-toggle="modal" data-target="#about">Itay Asayag</a>.
			<small>Click the logo for more information. <strong>Version <kbd>1.0.0.0</kbd>. 
			Latest major update: <a href="https://github.com/RedPhantom/DiagManager"><kbd>10/05/2017</kbd></a>
			</strong>. This website uses cookies. <a href="cookie-policy.htm">Learn more</a>. <a href="privacy-policy.htm">Privacy policy</a>.</small>
			</span>
    </nav>
    <script src="resources/js/bootstrap.min.js"></script>

    <!-- help modal -->
    <div class="modal fade" id="about" tabindex="-1" role="dialog" aria-labelledby="aboutLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="aboutLabel">About</h4>
                </div>
                <div class="modal-body">
                    <h2>Developer</h2>
                    <p>This application is developed by Itay Asayag. <br /> Source code is availbale by pressing the "Latest Build" value.
                        <br />
                    </p>
                    <h2>Contact</h2>
                    <p>For software issues, please <a href="https://github.com/RedPhantom/DiagManager/issues" class="external-link">submit a ticket</a> on GitHub. <br /> Send an e-mail via itay.asayag.rp@gmail.com.</p>
                    <h2>Usage</h2>
                    <p>
                        From left to right:
                        <ol>
                            <li><strong>Search query</strong>. Can contain text to be searched in the Long Description field.</li>
                            <li><strong>Search class</strong>. The scope in which to search.</li>
                            <li><strong>Number of Results</strong>. Defaults to 100.</li>
                            <li><strong>Data source</strong>. Can be ICD-9 standard source or be customized to Ward Diagnosis.</li>
                        </ol>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>